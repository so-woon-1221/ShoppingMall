{"ast":null,"code":"import { createAction, handleActions } from 'redux-actions';\nimport createRequestSaga, { createRequestActionTypes } from '../lib/createRequestSaga';\nimport * as loginAPI from '../lib/api/login';\nimport { takeLatest } from 'redux-saga/effects';\nconst [CART_IN, CART_IN_SUCCESS, CART_IN_FAILURE] = createRequestActionTypes('cart/CART_IN');\nconst [GET_CART, GET_CART_SUCCESS, GET_CART_FAILURE] = createRequestActionTypes('cart/GET_CART');\nexport const cartIn = createAction(CART_IN, ({\n  itemId,\n  user\n}) => ({\n  itemId,\n  user\n}));\nexport const getCart = createAction(GET_CART, user => user);\nconst cartInSaga = createRequestSaga(CART_IN, loginAPI.cartIn);\nexport function* inSaga() {\n  yield takeLatest(CART_IN, cartInSaga);\n}\nconst getCartSaga = createRequestSaga(GET_CART, loginAPI.getCart);\nexport function* getSaga() {\n  yield takeLatest(GET_CART, getCartSaga);\n}\nconst initialState = {\n  cart: null,\n  items: null,\n  error: null\n};\nconst cart = handleActions({\n  [CART_IN]: state => ({ ...state,\n    cart: null,\n    error: null\n  }),\n  [CART_IN_SUCCESS]: (state, {\n    payload: cart\n  }) => ({ ...state,\n    cart\n  }),\n  [CART_IN_FAILURE]: (state, {\n    payload: error\n  }) => ({ ...state,\n    error\n  }),\n  [GET_CART]: state => ({ ...state,\n    cart: null,\n    error: null\n  }),\n  [GET_CART_SUCCESS]: (state, {\n    payload: items\n  }) => ({ ...state,\n    items\n  }),\n  [GET_CART_FAILURE]: (state, {\n    payload: error\n  }) => ({ ...state,\n    error\n  })\n}, initialState);\nexport default cart;","map":{"version":3,"sources":["/Users/sowoon/Develop/shopping/sowoon_shopping_frontend/src/modules/cart.js"],"names":["createAction","handleActions","createRequestSaga","createRequestActionTypes","loginAPI","takeLatest","CART_IN","CART_IN_SUCCESS","CART_IN_FAILURE","GET_CART","GET_CART_SUCCESS","GET_CART_FAILURE","cartIn","itemId","user","getCart","cartInSaga","inSaga","getCartSaga","getSaga","initialState","cart","items","error","state","payload"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,aAAvB,QAA4C,eAA5C;AACA,OAAOC,iBAAP,IACEC,wBADF,QAEO,0BAFP;AAGA,OAAO,KAAKC,QAAZ,MAA0B,kBAA1B;AACA,SAASC,UAAT,QAA2B,oBAA3B;AAEA,MAAM,CAACC,OAAD,EAAUC,eAAV,EAA2BC,eAA3B,IAA8CL,wBAAwB,CAC1E,cAD0E,CAA5E;AAGA,MAAM,CAACM,QAAD,EAAWC,gBAAX,EAA6BC,gBAA7B,IAAiDR,wBAAwB,CAC7E,eAD6E,CAA/E;AAIA,OAAO,MAAMS,MAAM,GAAGZ,YAAY,CAACM,OAAD,EAAU,CAAC;AAAEO,EAAAA,MAAF;AAAUC,EAAAA;AAAV,CAAD,MAAuB;AACjED,EAAAA,MADiE;AAEjEC,EAAAA;AAFiE,CAAvB,CAAV,CAA3B;AAKP,OAAO,MAAMC,OAAO,GAAGf,YAAY,CAACS,QAAD,EAAYK,IAAD,IAAUA,IAArB,CAA5B;AAEP,MAAME,UAAU,GAAGd,iBAAiB,CAACI,OAAD,EAAUF,QAAQ,CAACQ,MAAnB,CAApC;AACA,OAAO,UAAUK,MAAV,GAAmB;AACxB,QAAMZ,UAAU,CAACC,OAAD,EAAUU,UAAV,CAAhB;AACD;AACD,MAAME,WAAW,GAAGhB,iBAAiB,CAACO,QAAD,EAAWL,QAAQ,CAACW,OAApB,CAArC;AACA,OAAO,UAAUI,OAAV,GAAoB;AACzB,QAAMd,UAAU,CAACI,QAAD,EAAWS,WAAX,CAAhB;AACD;AAED,MAAME,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,IADa;AAEnBC,EAAAA,KAAK,EAAE,IAFY;AAGnBC,EAAAA,KAAK,EAAE;AAHY,CAArB;AAMA,MAAMF,IAAI,GAAGpB,aAAa,CACxB;AACE,GAACK,OAAD,GAAYkB,KAAD,KAAY,EACrB,GAAGA,KADkB;AAErBH,IAAAA,IAAI,EAAE,IAFe;AAGrBE,IAAAA,KAAK,EAAE;AAHc,GAAZ,CADb;AAME,GAAChB,eAAD,GAAmB,CAACiB,KAAD,EAAQ;AAAEC,IAAAA,OAAO,EAAEJ;AAAX,GAAR,MAA+B,EAAE,GAAGG,KAAL;AAAYH,IAAAA;AAAZ,GAA/B,CANrB;AAOE,GAACb,eAAD,GAAmB,CAACgB,KAAD,EAAQ;AAAEC,IAAAA,OAAO,EAAEF;AAAX,GAAR,MAAgC,EAAE,GAAGC,KAAL;AAAYD,IAAAA;AAAZ,GAAhC,CAPrB;AAQE,GAACd,QAAD,GAAae,KAAD,KAAY,EAAE,GAAGA,KAAL;AAAYH,IAAAA,IAAI,EAAE,IAAlB;AAAwBE,IAAAA,KAAK,EAAE;AAA/B,GAAZ,CARd;AASE,GAACb,gBAAD,GAAoB,CAACc,KAAD,EAAQ;AAAEC,IAAAA,OAAO,EAAEH;AAAX,GAAR,MAAgC,EAAE,GAAGE,KAAL;AAAYF,IAAAA;AAAZ,GAAhC,CATtB;AAUE,GAACX,gBAAD,GAAoB,CAACa,KAAD,EAAQ;AAAEC,IAAAA,OAAO,EAAEF;AAAX,GAAR,MAAgC,EAAE,GAAGC,KAAL;AAAYD,IAAAA;AAAZ,GAAhC;AAVtB,CADwB,EAaxBH,YAbwB,CAA1B;AAgBA,eAAeC,IAAf","sourcesContent":["import { createAction, handleActions } from 'redux-actions';\nimport createRequestSaga, {\n  createRequestActionTypes,\n} from '../lib/createRequestSaga';\nimport * as loginAPI from '../lib/api/login';\nimport { takeLatest } from 'redux-saga/effects';\n\nconst [CART_IN, CART_IN_SUCCESS, CART_IN_FAILURE] = createRequestActionTypes(\n  'cart/CART_IN',\n);\nconst [GET_CART, GET_CART_SUCCESS, GET_CART_FAILURE] = createRequestActionTypes(\n  'cart/GET_CART',\n);\n\nexport const cartIn = createAction(CART_IN, ({ itemId, user }) => ({\n  itemId,\n  user,\n}));\n\nexport const getCart = createAction(GET_CART, (user) => user);\n\nconst cartInSaga = createRequestSaga(CART_IN, loginAPI.cartIn);\nexport function* inSaga() {\n  yield takeLatest(CART_IN, cartInSaga);\n}\nconst getCartSaga = createRequestSaga(GET_CART, loginAPI.getCart);\nexport function* getSaga() {\n  yield takeLatest(GET_CART, getCartSaga);\n}\n\nconst initialState = {\n  cart: null,\n  items: null,\n  error: null,\n};\n\nconst cart = handleActions(\n  {\n    [CART_IN]: (state) => ({\n      ...state,\n      cart: null,\n      error: null,\n    }),\n    [CART_IN_SUCCESS]: (state, { payload: cart }) => ({ ...state, cart }),\n    [CART_IN_FAILURE]: (state, { payload: error }) => ({ ...state, error }),\n    [GET_CART]: (state) => ({ ...state, cart: null, error: null }),\n    [GET_CART_SUCCESS]: (state, { payload: items }) => ({ ...state, items }),\n    [GET_CART_FAILURE]: (state, { payload: error }) => ({ ...state, error }),\n  },\n  initialState,\n);\n\nexport default cart;\n"]},"metadata":{},"sourceType":"module"}